<div class="device-list-container">
  @if (devices.length === 0) {
    <div class="no-devices">
      <p>Устройства не найдены</p>
    </div>
  }

  <div class="device-list">
    @for (device of devices; track device.id) {
      <div class="device-card" 
           [class.active]="device.id === selectedDeviceId"
           (click)="selectDevice(device.id)">
        <div class="device-status" [class.online]="isDeviceOnline(device)"></div>
        <div class="device-info">
          <div class="device-id">{{ formatDeviceId(device.id || '') }}</div>
          <div class="device-meta">
            <span class="meta-item">
              <span class="meta-label">Сессий:</span>
              <span class="meta-value">{{ device.sessionsCount || 0 }}</span>
            </span>
            <span class="meta-item">
              <span class="meta-label">Последняя:</span>
              <span class="meta-value">{{ device.lastSeenAt | date:'dd.MM HH:mm' }}</span>
            </span>
          </div>
        </div>
        <div class="device-arrow">→</div>
      </div>
    }
  </div>
</div>